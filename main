#include <stdio.h>
#include <conio.h>
#include <stdlib.h>


//variaveis de menus
int subN1,subN2,subN3;


//--------------------- Acervo

	//variaveis midias
int tMidia;
char nAutor[50],tituMidia[50],distribuidora[50];

	//variaveis Livros
char nAutorL[50],tituLivro[50],editoraL[50];

	//variaveis Revista
char tituRevista[50],editoraR[50];
int edicaoR;
int v = 1;

void inMidia(){
	printf("---------- Cadastro de Midias ----------");
	
	
	
		printf("\nTitulo: ");
		scanf("%s",&tituMidia);
		printf("Tipo de mídia (1-CD 2-DVD): ");
		scanf("%d",&tMidia);
		printf("Nome do Autor: ");
		scanf("%s",&nAutor);
		printf("Distribuidora: ");
		scanf("%s",&distribuidora);
		printf("\nDeseja continuar? 1-sim/2-nao");
		scanf("%d",&v);
		
	if(v!=1){
		//aqui volta
		getch();
	}
}

void inLivro(){
	printf("---------- Cadastro de Livros ----------");
	printf("Titulo: ");
	scanf("%s",&tituLivro);
	printf("Nome do Autor: ");
	scanf("%s",&nAutorL);
	printf("Editora: ");
	scanf("%s",&editoraL);
}

void inRevista(){
	printf("---------- Cadastro de Revistas ----------");
	printf("Titulo: ");
	scanf("%s",&tituRevista);
	printf("Edicao da revista: ");
	scanf("%s",&edicaoR);
	printf("Editora: ");
	scanf("%s",&editoraR);
	
}

/*void mnAcervo(){
	printf("-----------  Acervo  -----------\n");
    printf("1-Midias\n2-Livros\n3-Revistas\n4-Voltar");
    scanf("%d",&subN2);
	while(subN2!=4){
		switch(subN2){
			case 1:
				inMidia();
				break;
			case 2:
				inLivros();
				break;
			case 3:
				inRevista();
				break;
			case 4:
				mnPrincipal();
			default:
				printf("Valor inválido.");	
		}
	}
}*/
//--------------------- Consulente
int regC = 0; 
int telC[11],cpfC[11],cepC[8];
char nomeC[50],rgC[9],ruaC[50],compC[50];
	//data de nascimento

void inConsulente(){
	printf("\n-------------- Cadastro de Consulente --------------\n");
	printf("\nNome:");
	scanf("%s",&nomeC);
	printf("\nRG: ");
	scanf("%s",&rgC);
	printf("\nCPF: ");
	scanf("%d",&cpfC);
	printf("\nTelefone: ");
	scanf("%d",&telC);
	printf("\nRua: ");
	scanf("%s",&ruaC);
	printf("\nCEP: ");
	scanf("%d",&cepC);
	printf("\nComplemento: ");
	scanf("%s",&compC);
	
	regC++;
	
}

//--------------------- Usuário
char nomeU[10];
int senhaU,cSenhaU;

int inUsuario(){
	printf("------------ Cadastro de usuario ------------\n");
     printf("\n\nNome: ");
     scanf("%s",&nomeU);
     printf("Senha: ");
     scanf("%s",&senhaU);
     printf("Confirmação de senha: ");
     scanf("%s",&cSenhaU);
     if(senhaU==cSenhaU)
     {
        return 1;       
     } else {
        return 0;
     }
}

//--------------------- Movimentação
int regCM, codMM, regRM =0, cRegRM;
//falta DataReitrada, previsãoDevolução, dataDevolução;
void inRetirada(){
	printf("--------------------- Emprestimos --------------------- \n");
	printf("Codigo do Livro: ");
	scanf("%d",&codMM);
	printf("\nCodigo do Consulente: ");
	scanf("%d",&regCM);
	//Faltam datas
	regRM++;
	printf("O código do emprestimo é %d", regRM);
}

void baRetirada(){
	printf("--------------------- Baixa em Emprestimos --------------------- \n");
	printf("Número do emprestimo: ");
	scanf("%d",&cRegRM);
	printf("Data de devolução: ");
	// ler data
}

void mnPrincipal(){
    int count,op;
    
    while(count!=6){
        printf("1-Acervo\n-2Consulente\n3-Usuarios\n4-Movimentações\n5-Relatorios\n6-sair");
        scanf("%d",&op);
        int sel;
		switch(op){
            case 1:
            	//mnAcervo();
                printf("-----------  Acervo  -----------\n");
			    printf("1-Midias\n2-Livros\n3-Revistas\n4-Voltar");
			    scanf("%d",&subN2);
				while(subN2!=4){
					switch(subN2){
						case 1:
							inMidia();
							break;
						case 2:
							inLivro();
							break;
						case 3:
							inRevista();
							break;
						case 4:
							mnPrincipal();
						case 5:
						//	printf("Não implementado");
							break;
						case 6:
							getch();
						default:
							printf("Valor inválido.");	
					}
				}
				break;
            case 2:
                break;
            case 3:
                break;
            case 4:
                break;
            case 5:
                break;
            case 6:
                
                printf("Deseja mesmo sair?\n1-Sim\n2-Não");
                scanf("%d",&sel);
                if(sel == 1){
                    printf("Obrigado por utilizar o sistema.");
                    getch();
                
                }else{
                    op=0;
                    break;
                }
        }
    }
}
    

int main(int argc, char *argv[])  {
    int ver=0, op;

        printf("1- Relizar cadastro\n2- Sair\n\n");
        scanf("%d",&op);
        
		switch(op){
            case 1:
                 ver = inUsuario();     
                if(ver==0){
                    printf("Desulpe, tivemos problemas para realizar o cadastro\n Tente mais tarde.");
                    getch();
                    return 0;
                    }else{
                    printf("Cadastro realizado com sucesso.\n\n");
                    getch();
					mnPrincipal();
                    }
            break;
            case 2:
                return 0;
              
        
	}
	getch();
return 0;
}
